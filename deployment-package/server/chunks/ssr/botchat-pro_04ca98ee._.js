module.exports=[58858,a=>{"use strict";a.s(["Calendar",()=>b],58858);let b=(0,a.i(46832).default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},22039,a=>{"use strict";a.s(["TrendingUp",()=>b],22039);let b=(0,a.i(46832).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},77211,a=>{"use strict";a.s(["Clock",()=>b],77211);let b=(0,a.i(46832).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},2703,a=>{"use strict";a.s(["StatsCard",()=>d]);var b=a.i(39955),c=a.i(10630);function d({title:a,value:d,change:e,changeType:f="neutral",icon:g,description:h}){return(0,b.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-blue-50",children:(0,b.jsx)(g,{className:"h-5 w-5 text-blue-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-600",children:a}),(0,b.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:d})]})]}),e&&(0,b.jsx)("div",{className:(0,c.cn)("flex items-center space-x-1 text-sm font-medium","positive"===f&&"text-green-600","negative"===f&&"text-red-600","neutral"===f&&"text-gray-500"),children:(0,b.jsx)("span",{children:e})})]}),h&&(0,b.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:h})]})}},60609,a=>{"use strict";a.s(["useBot",()=>e,"useBots",()=>d]);var b=a.i(459);let c=new class{baseUrl="/api";async request(a,b={}){let c=`${this.baseUrl}${a}`,d=await fetch(c,{headers:{"Content-Type":"application/json",...b.headers},...b});if(!d.ok)throw Error((await d.json().catch(()=>({}))).error||`HTTP ${d.status}: ${d.statusText}`);return d.json()}async getBots(){return this.request("/bots")}async getBot(a){return this.request(`/bots/${a}`)}async createBot(a){return this.request("/bots",{method:"POST",body:JSON.stringify(a)})}async updateBot(a,b){return this.request(`/bots/${a}`,{method:"PUT",body:JSON.stringify(b)})}async deleteBot(a){return this.request(`/bots/${a}`,{method:"DELETE"})}async saveBotFlow(a,b,c){return this.updateBot(a,{flows:{nodes:b,edges:c}})}async toggleBotStatus(a,b){return this.updateBot(a,{isActive:b})}async publishBot(a,b){return this.updateBot(a,{isPublished:b})}async connectWhatsApp(a,b,c){return this.updateBot(a,{whatsappPhoneId:b,whatsappToken:c})}async testWhatsAppConnection(a,b){return this.request("/whatsapp/test",{method:"POST",body:JSON.stringify({phoneId:a,token:b})})}async getBotAnalytics(a,b=7){return this.request(`/bots/${a}/analytics?days=${b}`)}async getBotTemplates(){return this.request("/templates")}async createBotFromTemplate(a,b){return this.request("/bots/from-template",{method:"POST",body:JSON.stringify({templateId:a,name:b})})}};function d(){let[a,d]=(0,b.useState)([]),[e,f]=(0,b.useState)(!0),[g,h]=(0,b.useState)(null),i=async()=>{try{f(!0),h(null);let{bots:a}=await c.getBots();d(a)}catch(a){h(a instanceof Error?a.message:"Failed to fetch bots")}finally{f(!1)}},j=async a=>{let{bot:b}=await c.createBot(a);return d(a=>[b,...a]),b},k=async(a,b)=>{let{bot:e}=await c.updateBot(a,b);return d(b=>b.map(b=>b.id===a?e:b)),e},l=async a=>{await c.deleteBot(a),d(b=>b.filter(b=>b.id!==a))},m=async(a,b)=>{await k(a,{isActive:b})};return(0,b.useEffect)(()=>{i()},[]),{bots:a,loading:e,error:g,refetch:i,createBot:j,updateBot:k,deleteBot:l,toggleBotStatus:m}}function e(a){let[d,e]=(0,b.useState)(null),[f,g]=(0,b.useState)(!0),[h,i]=(0,b.useState)(null),j=async()=>{try{g(!0),i(null);let{bot:b}=await c.getBot(a);e(b)}catch(a){i(a instanceof Error?a.message:"Failed to fetch bot")}finally{g(!1)}},k=async b=>{let{bot:d}=await c.updateBot(a,b);return e(d),d},l=async(b,d)=>{let{bot:f}=await c.saveBotFlow(a,b,d);return e(f),f};return(0,b.useEffect)(()=>{a&&j()},[a]),{bot:d,loading:f,error:h,refetch:j,updateBot:k,saveFlow:l}}},56609,a=>{"use strict";a.s(["Bot",()=>b],56609);let b=(0,a.i(46832).default)("bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]])},30530,a=>{"use strict";a.s(["Download",()=>b],30530);let b=(0,a.i(46832).default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]])},14833,a=>{"use strict";a.s(["default",()=>s],14833);var b=a.i(39955),c=a.i(459),d=a.i(62130),e=a.i(60609),f=a.i(2703),g=a.i(83227),h=a.i(3591),i=a.i(59667),j=a.i(43564),k=a.i(22039),l=a.i(58858),m=a.i(30530),n=a.i(56609),o=a.i(77211),p=a.i(46832);let q=(0,p.default)("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),r=(0,p.default)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);function s(){let{data:a}=(0,d.useSession)(),{bots:p,loading:s}=(0,e.useBots)(),[t,u]=(0,c.useState)(null),[v,w]=(0,c.useState)("7d"),[x,y]=(0,c.useState)("all");(0,c.useEffect)(()=>{p.length>0&&z()},[p,v,x]);let z=()=>{let a=p.length,b=p.filter(a=>a.isActive).length,c=p.reduce((a,b)=>a+(b.stats?.messages||0),0),d=p.reduce((a,b)=>a+(b.stats?.contacts||0),0);u({overview:{totalBots:a,activeBots:b,totalMessages:c,totalContacts:d,averageResponseTime:2.3,conversionRate:24.5},dailyStats:Array.from({length:7},(a,b)=>{let c=new Date;return c.setDate(c.getDate()-(6-b)),{date:c.toISOString().split("T")[0],messages:Math.floor(50*Math.random())+20,contacts:Math.floor(20*Math.random())+5,conversions:Math.floor(10*Math.random())+2}}),topBots:p.slice(0,3).map(a=>({id:a.id,name:a.name,messages:a.stats?.messages||Math.floor(100*Math.random())+20,contacts:a.stats?.contacts||Math.floor(50*Math.random())+10,responseRate:Math.floor(30*Math.random())+70})),messageTypes:{text:75,media:20,interactive:5}})};return s?(0,b.jsxs)("div",{className:"flex items-center justify-center h-64",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),(0,b.jsx)("span",{className:"ml-2 text-gray-600",children:"Lade Analytics..."})]}):t?(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Analytics"}),(0,b.jsx)("p",{className:"text-gray-600",children:"Bot Performance und Benutzer-Insights"})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsxs)("select",{value:v,onChange:a=>w(a.target.value),className:"px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,b.jsx)("option",{value:"1d",children:"Letzter Tag"}),(0,b.jsx)("option",{value:"7d",children:"Letzte 7 Tage"}),(0,b.jsx)("option",{value:"30d",children:"Letzter Monat"}),(0,b.jsx)("option",{value:"90d",children:"Letzte 3 Monate"})]}),(0,b.jsxs)("select",{value:x,onChange:a=>y(a.target.value),className:"px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,b.jsx)("option",{value:"all",children:"Alle Bots"}),p.map(a=>(0,b.jsx)("option",{value:a.id,children:a.name},a.id))]}),(0,b.jsxs)(g.Button,{variant:"outline",size:"sm",onClick:()=>{if(!t)return;let a=new Blob([[["Datum","Nachrichten","Kontakte","Conversions"],...t.dailyStats.map(a=>[a.date,a.messages.toString(),a.contacts.toString(),a.conversions.toString()])].map(a=>a.join(",")).join("\n")],{type:"text/csv"}),b=window.URL.createObjectURL(a),c=document.createElement("a");c.style.display="none",c.href=b,c.download=`botchat-analytics-${v}.csv`,document.body.appendChild(c),c.click(),window.URL.revokeObjectURL(b)},children:[(0,b.jsx)(m.Download,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),(0,b.jsxs)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[(0,b.jsx)(f.StatsCard,{title:"Aktive Bots",value:t.overview.activeBots,change:`${t.overview.totalBots} insgesamt`,changeType:"neutral",icon:n.Bot,description:"Bots in Betrieb"}),(0,b.jsx)(f.StatsCard,{title:"Nachrichten heute",value:t.overview.totalMessages,change:"+23%",changeType:"positive",icon:i.MessageSquare,description:"Gesendete & empfangene"}),(0,b.jsx)(f.StatsCard,{title:"Eindeutige Kontakte",value:t.overview.totalContacts,change:"+12 diese Woche",changeType:"positive",icon:j.Users,description:"WhatsApp Kontakte"}),(0,b.jsx)(f.StatsCard,{title:"Conversion Rate",value:`${t.overview.conversionRate}%`,change:"+5.2%",changeType:"positive",icon:q,description:"Lead zu Kunde"})]}),(0,b.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,b.jsx)(f.StatsCard,{title:"Ø Antwortzeit",value:`${t.overview.averageResponseTime}s`,change:"-0.5s",changeType:"positive",icon:o.Clock,description:"Durchschnittliche Bot-Antwortzeit"}),(0,b.jsx)(f.StatsCard,{title:"Bot Verfügbarkeit",value:"99.8%",change:"+0.2%",changeType:"positive",icon:r,description:"Uptime der letzten 30 Tage"})]}),(0,b.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,b.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Tägliche Aktivität"}),(0,b.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[(0,b.jsx)(l.Calendar,{className:"h-4 w-4"}),(0,b.jsx)("span",{children:"Letzte 7 Tage"})]})]}),(0,b.jsx)("div",{className:"space-y-3",children:t.dailyStats.map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)("div",{className:"w-16 text-xs text-gray-500",children:new Date(a.date).toLocaleDateString("de-DE",{weekday:"short"})}),(0,b.jsx)("div",{className:"flex-1",children:(0,b.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,b.jsx)("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:(0,b.jsx)("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${a.messages/100*100}%`}})}),(0,b.jsx)("span",{className:"text-sm text-gray-600 w-8",children:a.messages})]})})]},a.date))})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Top Performing Bots"}),(0,b.jsx)("div",{className:"space-y-4",children:t.topBots.map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg bg-gray-50",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-blue-100",children:(0,b.jsxs)("span",{className:"text-sm font-medium text-blue-700",children:["#",c+1]})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-gray-900",children:a.name}),(0,b.jsxs)("p",{className:"text-sm text-gray-500",children:[a.messages," Nachrichten"]})]})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsxs)("p",{className:"text-sm font-medium text-gray-900",children:[a.responseRate,"%"]}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:"Antwortrate"})]})]},a.id))})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Nachrichtentypen"}),(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,b.jsxs)("div",{className:"text-center p-4 rounded-lg bg-blue-50",children:[(0,b.jsx)(i.MessageSquare,{className:"h-8 w-8 text-blue-600 mx-auto mb-2"}),(0,b.jsxs)("p",{className:"text-2xl font-bold text-blue-900",children:[t.messageTypes.text,"%"]}),(0,b.jsx)("p",{className:"text-sm text-blue-700",children:"Text Nachrichten"})]}),(0,b.jsxs)("div",{className:"text-center p-4 rounded-lg bg-green-50",children:[(0,b.jsx)(r,{className:"h-8 w-8 text-green-600 mx-auto mb-2"}),(0,b.jsxs)("p",{className:"text-2xl font-bold text-green-900",children:[t.messageTypes.media,"%"]}),(0,b.jsx)("p",{className:"text-sm text-green-700",children:"Media Nachrichten"})]}),(0,b.jsxs)("div",{className:"text-center p-4 rounded-lg bg-purple-50",children:[(0,b.jsx)(k.TrendingUp,{className:"h-8 w-8 text-purple-600 mx-auto mb-2"}),(0,b.jsxs)("p",{className:"text-2xl font-bold text-purple-900",children:[t.messageTypes.interactive,"%"]}),(0,b.jsx)("p",{className:"text-sm text-purple-700",children:"Interaktive Buttons"})]})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance Insights"}),(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,b.jsxs)("div",{className:"p-4 rounded-lg border border-green-200 bg-green-50",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,b.jsx)(k.TrendingUp,{className:"h-5 w-5 text-green-600"}),(0,b.jsx)("span",{className:"font-medium text-green-900",children:"Top Performance"})]}),(0,b.jsx)("p",{className:"text-sm text-green-800",children:"Ihre Bots haben eine überdurchschnittliche Antwortrate von 85%. Besonders der Kundenservice Bot performt sehr gut."})]}),(0,b.jsxs)("div",{className:"p-4 rounded-lg border border-yellow-200 bg-yellow-50",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,b.jsx)(l.Calendar,{className:"h-5 w-5 text-yellow-600"}),(0,b.jsx)("span",{className:"font-medium text-yellow-900",children:"Optimierungsvorschlag"})]}),(0,b.jsx)("p",{className:"text-sm text-yellow-800",children:"Aktivitätsspitzen zwischen 10-12 Uhr und 14-16 Uhr. Erwägen Sie zusätzliche Bot-Kapazitäten in diesen Zeiten."})]})]})]})]}):(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)(h.BarChart3,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,b.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Keine Daten verfügbar"}),(0,b.jsx)("p",{className:"text-gray-600",children:"Erstellen Sie zunächst einen Bot, um Analytics zu sehen."})]})}}];

//# sourceMappingURL=botchat-pro_04ca98ee._.js.map